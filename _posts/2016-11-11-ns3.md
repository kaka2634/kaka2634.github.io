---
layout: post
title:  "NS3笔记"
categories: study
tag: routing
---

* content
{:toc}




# NS3

## 1.安装NS3

安装参考<https://www.nsnam.org/docs/tutorial/html/getting-started.html>

相关的依赖安装：<https://www.nsnam.org/wiki/Installation>

遇到问题与解决：

1.测试生成module出错，重新clean再build一下（时间较长，需要之后修改方法）

2.virtualize安装相关依赖仍然disable：需要选择对应的pyhon2.7版本，参考<http://stackoverflow.com/questions/19256127/two-versions-of-python-on-linux-how-to-make-2-7-the-default>

## 2.使用ns3图形界面

使用AODV example

```
cd Desktop/workspace/ns-allinone-3.26/ns-3.26/
 ./waf --run aodv --vis
```

## 3. 使用PCAP tracing

参考文档，[pointToPoint](https://www.nsnam.org/docs/release/3.26/doxygen/classns3_1_1_point_to_point_helper.html#abe3ce49bfc07a9d40cead59b508b9c3e)实现了虚类[PcapHelperForDevice](https://www.nsnam.org/docs/release/3.26/doxygen/classns3_1_1_pcap_helper_for_device.html),所以可以使用PcapHelperForDevice类的成员函数EnablePcapAll();

```
pointToPoint.EnablePcapAll ("myfirst");
```

所以这句需要放在devices生成之后，否则没有devices，那么就没有pcap文件生成。
再使用

```
tcpdump -nn -tt -r myfirst-0-0.pcap
```
就够测试pcap文件了。